if(!window.requestAnimationFrame){window.requestAnimationFrame=(function(){return window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||function(a){setTimeout(a,1000/60)}})()}function initScrollBarStyle(b){var c=document.createElement("style"),a=document.getElementsByTagName("head")[0];a.insertBefore(c,a.firstChild);c.type="text/css";if(c.styleSheet){c.styleSheet.cssText=b}else{c.innerHTML=b}}initScrollBarStyle("html{height:100%;overflow:hidden;}body{height:100%;}"+".scrollbar{position:relative;overflow:hidden;}"+".scrollbar-wrap{height:100%;width:100%;overflow:auto;}"+".scrollbar-bar{right:0;top:0;height:100%;width:8px;}"+".scrollbar-slide{width:100%;background:#666;}"+".scrollbar-bar-x{left:0;bottom:0;width:100%;height:8px;}"+".scrollbar-slide-x{height:100%;background:#666;}"+".scrollbar-bar,.scrollbar-bar-x{position:absolute;background:transparent;transition:background 0.3s,height 0.3s,width 0.3s;}"+".scrollbar-bar:hover{background:#ccc;width:20px;}.scrollbar-bar-x:hover{background:#ccc;height:20px;");function ScrollBar(b,a){this.opt=a||{};this.init(b)}ScrollBar.prototype={isIE:document.addEventListener?false:true,bind:function(c,b,a){if(c.addEventListener){c.addEventListener(b,a,false)}else{c.attachEvent("on"+b,function(){a.id=arguments.callee;var d=window.event;d.preventDefault=function(){this.returnValue=true};d.stopPropagation=function(){this.cancelBubble=true};a.call(c,d)})}},unbind:function(c,b,a){if(c.removeEventListener){c.removeEventListener(b,a,false)}else{c.detachEvent("on"+b,a.id||a)}},getPos:function(c,a){a=a||"offsetTop";var d=c[a];var b=c.offsetParent;while(b){d+=b[a];b=b.offsetParent}return d},setTop:function(f,g,e,d,c,a,b){g=g<0?0:g>e-c?e-c:g;to=d*g/e;b=b||"scrollTop";if(a){this.animate(f,to,function(h){f[b]=h},b)}else{f[b]=to}},animate:function(a,k,i,e){var m=0,j=a[e],h=0,l=0,g=200/16.666||0,f=function(o,n,q,p){if((o/=p/2)<1){return q/2*o*o+n}return -q/2*((--o)*(o-2)-1)+n};(function(){h=Math.abs(j-k);l=f(m,j,h,g);l=k<j?j-(l-j):l;if(++m<=g){requestAnimationFrame(arguments.callee)}else{l=k}i(l)})()},init:function(b){var z=this,q=0,u=0,m=0,j=0,n=0,d=0,s=0,g=0,E=0,c=0,C=b.clientHeight,o=b.clientWidth,k=document.createElement("div"),D=document.createElement("div"),a=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div"),r=b.onselectstart,v=(function(){var h=[];for(var l=0;l<b.children.length;l++){h.push(b.children[l])}return h})();k.className="scrollbar-wrap";D.className="scrollbar-bar";a.className="scrollbar-slide";e.className="scrollbar-bar-x";f.className="scrollbar-slide-x";b.className+=" scrollbar";for(var A=0;A<v.length;A++){k.appendChild(v[A])}b.appendChild(k);D.appendChild(a);e.appendChild(f);if(this.opt.barY!==false){b.appendChild(D)}else{k.style["overflow-y"]="hidden"}if(this.opt.barX!==false){b.appendChild(e)}else{k.style["overflow-x"]="hidden"}this.resize=function(){C=b.clientHeight;o=b.clientWidth;n=k.scrollHeight;d=k.scrollWidth;E=C/n;s=C*E;a.style.height=s+"px";k.style.width=(C>=n?o:(o+17))+"px";D.style.display=C>=n?"none":"block";a.style.marginTop=k.scrollTop*E+"px";c=o/d;g=o*c;f.style.width=g+"px";k.style.height=(o>=d?C:(C+17))+"px";e.style.display=o>=d?"none":"block";f.style.marginLeft=k.scrollLeft*c+"px"};this.resize();this.bind(k,"scroll",function(){a.style.marginTop=this.scrollTop*E+"px";f.style.marginLeft=this.scrollLeft*c+"px";if(z.opt.onscroll){z.opt.onscroll(this.offsetTop,this.offsetLeft)}});this.bind(D,"mousedown",function(h){var i=h.clientY-z.getPos(b)-s/2;z.setTop(k,i,C,n,s,true)});this.bind(e,"mousedown",function(h){var i=h.clientX-z.getPos(b,"offsetLeft")-g/2;z.setTop(k,i,o,d,g,true,"scrollLeft")});function B(h){var i=q+(h.clientY-j);z.setTop(k,i,C,n,s)}function p(h){var i=u+(h.clientX-m);z.setTop(k,i,o,d,g,false,"scrollLeft")}this.bind(a,"mousedown",function(h){h.preventDefault();h.stopPropagation();j=h.clientY;q=this.offsetTop;if(z.isIE){b.onselectstart=function(){return false}}z.bind(document,"mousemove",B)});this.bind(f,"mousedown",function(h){h.preventDefault();h.stopPropagation();m=h.clientX;u=this.offsetLeft;if(z.isIE){b.onselectstart=function(){return false}}z.bind(document,"mousemove",p)});this.bind(document,"mouseup",function(){if(z.isIE){b.onselectstart=r}z.unbind(this,"mousemove",B);z.unbind(this,"mousemove",p)})}};
